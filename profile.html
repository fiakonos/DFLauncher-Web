<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>DFLauncher | Profil</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/skinview3d@3.0.0/dist/bundle.js"></script>
    <style>
        body { background-color: #050505; color: #ededed; font-family: sans-serif; }
        .df-yellow { color: #f59e0b; }
        .df-bg-yellow { background-color: #f59e0b; }
        .glass-panel { background: rgba(15, 15, 15, 0.7); border: 1px solid rgba(245, 158, 11, 0.1); backdrop-filter: blur(20px); }
    </style>
</head>
<body class="min-h-screen">
    <nav class="p-6 flex justify-between items-center max-w-6xl mx-auto">
        <a href="index.html" class="text-2xl font-black tracking-tighter"><span class="df-yellow">DF</span>LAUNCHER</a>
        <div id="userNav" class="flex items-center gap-4">
            </div>
    </nav>

    <main class="max-w-6xl mx-auto px-6 py-10 grid md:grid-cols-12 gap-8">
        <div class="md:col-span-5 glass-panel rounded-[40px] p-8 flex items-center justify-center h-[500px]">
            <canvas id="skin_container"></canvas>
        </div>
        <div class="md:col-span-7 space-y-6">
            <div class="glass-panel rounded-[32px] p-8">
                <h2 class="text-2xl font-black mb-6 uppercase tracking-tight">Skin <span class="df-yellow">Yükle</span></h2>
                <label class="border-2 border-dashed border-white/10 rounded-3xl p-12 flex flex-col items-center justify-center hover:border-yellow-500/40 cursor-pointer bg-white/[0.02]">
                    <i class="fa-solid fa-file-image text-5xl text-gray-600 mb-4"></i>
                    <span class="text-gray-400 font-bold text-center">Dosyayı Buraya Bırak veya Seç</span>
                    <input type="file" id="skinInput" class="hidden" accept=".png">
                </label>
                <button id="saveBtn" class="w-full df-bg-yellow text-black font-black py-5 rounded-2xl mt-6 shadow-xl">DEĞİŞİKLİKLERİ UYGULA</button>
            </div>
        </div>
    </main>

    <script>
        // Giriş Kontrolü
        const currentUser = localStorage.getItem('df_user');
        const userNav = document.getElementById('userNav');

        if (currentUser) {
            userNav.innerHTML = `<span class="text-xs font-bold text-gray-500 uppercase">Hoş geldin, <span class="text-white">${currentUser}</span></span>
                                 <button onclick="logout()" class="text-xs text-red-500 font-bold">Çıkış</button>`;
        } else {
            userNav.innerHTML = `<a href="auth.html" class="df-bg-yellow text-black px-4 py-2 rounded-lg font-bold text-xs">GİRİŞ YAP</a>`;
        }

        function logout() {
            localStorage.removeItem('df_user');
            window.location.reload();
        }

        // 3D Engine
        window.onload = function() {
            const skinViewer = new skinview3d.SkinViewer({
                canvas: document.getElementById("skin_container"),
                width: 300, height: 400,
                skin: "https://mineskin.org/assets/img/steve.png"
            });
            skinViewer.animations.add(skinview3d.WalkingAnimation);
            skinViewer.autoRotate = true;

            document.getElementById('skinInput').onchange = function(evt) {
                const file = evt.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = () => skinViewer.loadSkin(reader.result);
                    reader.readAsDataURL(file);
                }
            };
        };
    </script>
</body>
</html>
